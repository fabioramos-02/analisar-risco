# MicroserviÃ§o de AnÃ¡lise de Risco

ğŸ“‹ **DescriÃ§Ã£o**  
MicroserviÃ§o para anÃ¡lise de risco de clientes baseada em idade e score de crÃ©dito. Integra-se com serviÃ§os de validaÃ§Ã£o e score e usa Redis para cache e performance.

## ğŸš€ Funcionalidades
- AnÃ¡lise de risco por idade e score
- IntegraÃ§Ã£o com serviÃ§os de validaÃ§Ã£o e score
- Cache com Redis
- ClassificaÃ§Ã£o de risco (baixo, mÃ©dio, alto)
- Health check com verificaÃ§Ã£o de dependÃªncias
- DocumentaÃ§Ã£o via Swagger
- ContainerizÃ¡vel com Docker

## ğŸ›  Tecnologias
- Node.js + Express  
- Redis  
- Axios  
- Swagger  
- Docker / docker-compose

## ğŸ”§ ConfiguraÃ§Ã£o rÃ¡pida

### VariÃ¡veis de ambiente (.env)
```env
PORT=3002
REDIS_HOST=localhost
REDIS_PORT=6380
VALIDACAO_API_URL=http://localhost:3001
SCORE_API_URL=http://localhost:3000
```

### Executar com Docker
```bash
docker-compose up --build
```

### Executar localmente
```bash
npm install
npm start
```

## ğŸ“¡ Endpoints principais
- Analisar risco: `GET /api/analise-risco/{cpf}`
- Health check: `GET /api/analise-risco/health/check`
- DocumentaÃ§Ã£o (Swagger): `GET /api-docs`

### Exemplo de uso
```bash
curl "http://localhost:3002/api/analise-risco/12345678909"
```

## ğŸ“Š ClassificaÃ§Ã£o de risco
- Baixo: pontuaÃ§Ã£o â‰¤ 20  
- MÃ©dio: pontuaÃ§Ã£o 21â€“50  
- Alto: pontuaÃ§Ã£o > 50

## ğŸ”— DependÃªncias
- ServiÃ§o de ValidaÃ§Ã£o de Dados â€” porta 3001  
- ServiÃ§o de Score de CrÃ©dito â€” porta 3000  
- Redis â€” porta 6380

## ğŸ³ Docker
```bash
# Build e execuÃ§Ã£o
docker-compose up --build

# Somente execuÃ§Ã£o
docker-compose up
```

ServiÃ§o disponÃ­vel em: http://localhost:3002
